devtools::create("D:/Dropbox/masc1")
devtools::create("D:/Dropbox/masc")
remove.packages("masc", lib="~/R/win-library/3.6")
devtools::install_github("maxkllgg/masc")
devtools::install_github("maxkllgg/masc")
update.packages("Rcpp")
1+1
devtools::install_github("maxkllgg/masc")
install.packages("Rcpp")
install.packages("Rcpp")
devtools::install_github("maxkllgg/masc")
library(masc)
?masc
data3 <- data.table(t = 1:10, treated = 1:10,
control1 = c(15,12,14,22,21,28,29,30,29,31),
control2 = c(10,5,10,12,16,20,22,21,23,21),
control3 = c(-7,-11,-7,-3,-4,-9,-7,-3,-7,-11),
control4 = c(-15,-13,-14,-16,-15,-12,-13,-13,-14,-14))
#controls are stored as differences from treated unit, translating into levels:
data3$control1 <- data3$control1 + data3$treated
data3$control2 <- data3$control2 + data3$treated
data3$control3 <- data3$control3 + data3$treated
data3$control4 <- data3$control4 + data3$treated
#defining treatment period:
treatperiod <- 6
data<-list(treated = as.matrix(data3$treated),
donors = as.matrix(data3[,-c("treated","t"),with=FALSE]),
treatment=treatperiod)
result<-masc(data=data, tune_pars_list=list(m=1:3,
min_preperiods=3,
set_f=NA))
library(masc)
library(Synth)
help(synth)
data3 <- data.frame(t = 1:10, treated = 1:10,
control1 = c(15,12,14,22,21,28,29,30,29,31),
control2 = c(10,5,10,12,16,20,22,21,23,21),
control3 = c(-7,-11,-7,-3,-4,-9,-7,-3,-7,-11),
control4 = c(-15,-13,-14,-16,-15,-12,-13,-13,-14,-14))
data3$t
data3$control1 <- data3$control1 + data3$treated
data3$control2 <- data3$control2 + data3$treated
data3$control3 <- data3$control3 + data3$treated
data3$control4 <- data3$control4 + data3$treated
data<-list(treated = as.matrix(data3$treated),
donors = as.matrix(data3[,-c("treated","t")]),
treatment=treatperiod)
data
data3
data<-list(treated = as.matrix(data3$treated),
donors = as.matrix(data3[,-c(1,2)]),
treatment=treatperiod)
result<-masc(data=data, tune_pars_list=list(m=1:3,
min_preperiods=3,
set_f=NA))
result$phi
result$weights
library(masc)
?masc
data3 <- data.table(t = 1:10, treated = 1:10,
control1 = c(15,12,14,22,21,28,29,30,29,31),
control2 = c(10,5,10,12,16,20,22,21,23,21),
control3 = c(-7,-11,-7,-3,-4,-9,-7,-3,-7,-11),
control4 = c(-15,-13,-14,-16,-15,-12,-13,-13,-14,-14))
#controls are stored as differences from treated unit, translating into levels:
data3$control1 <- data3$control1 + data3$treated
data3$control2 <- data3$control2 + data3$treated
data3$control3 <- data3$control3 + data3$treated
data3$control4 <- data3$control4 + data3$treated
#defining treatment period:
treatperiod <- 6
data<-list(treated = as.matrix(data3$treated),
donors = as.matrix(data3[,-c("treated","t"),with=FALSE]),
treatment=treatperiod)
result<-masc(data=data, tune_pars_list=list(m=1:3,
min_preperiods=3,
set_f=NA))
library(data.table)
data3 <- data.frame(t = 1:10, treated = 1:10,
control1 = c(15,12,14,22,21,28,29,30,29,31),
control2 = c(10,5,10,12,16,20,22,21,23,21),
control3 = c(-7,-11,-7,-3,-4,-9,-7,-3,-7,-11),
control4 = c(-15,-13,-14,-16,-15,-12,-13,-13,-14,-14))
#controls are stored as differences from treated unit, translating into levels:
data3$control1 <- data3$control1 + data3$treated
data3$control2 <- data3$control2 + data3$treated
data3$control3 <- data3$control3 + data3$treated
data3$control4 <- data3$control4 + data3$treated
#defining treatment period:
treatperiod <- 6
data<-list(treated = as.matrix(data3$treated),
donors = as.matrix(data3[,-c("treated","t"),with=FALSE]),
treatment=treatperiod)
data<-list(treated = as.matrix(data3$treated),
donors = as.matrix(data3[,-c("treated","t")]),
treatment=treatperiod)
data<-list(treated = as.matrix(data3$treated),
donors = as.matrix(data3[,-c(1,2)]),
treatment=treatperiod)
result<-masc(data=data, tune_pars_list=list(m=1:3,
min_preperiods=3,
set_f=NA))
print(round(result$weights,3))
print(round(result$weights,2))
0.24+0.47+0.29
library(masc)
library(masc)
?masc
library(masc)
?masc
library(masc)
?masc
library(masc)
?masc
library(masc)
?masc
remove.packages("masc", lib="~/R/win-library/3.6")
devtools::install_github("maxkllgg/masc")
library(masc)
?masc
data3 <- data.frame(t = 1:10, treated = 1:10,
control1 = c(15,12,14,22,21,28,29,30,29,31),
control2 = c(10,5,10,12,16,20,22,21,23,21),
control3 = c(-7,-11,-7,-3,-4,-9,-7,-3,-7,-11),
control4 = c(-15,-13,-14,-16,-15,-12,-13,-13,-14,-14))
#controls are stored as differences from treated unit, translating into levels:
data3$control1 <- data3$control1 + data3$treated
data3$control2 <- data3$control2 + data3$treated
data3$control3 <- data3$control3 + data3$treated
data3$control4 <- data3$control4 + data3$treated
#defining treatment period:
treatperiod <- 6
data<-list(treated = as.matrix(data3$treated),
donors = as.matrix(data3[,-c(1,2)]),
treatment=treatperiod)
result<-masc(data=data, tune_pars_list=list(m=1:3,
min_preperiods=3,
set_f=NA))
#Weights selected, for controls 1 through 4 respectively:
print(round(result$weights,2))
library(Synth)
library(data.table) #for convenience
data(basque)
basque<-basque[regionno!=1,]
basque[,regionname:= gsub(" (.*)","",regionname)]
basque <- cbind(basque[regionno==17,gdpcap],t(reshape(basque[regionno!=17,.(regionno,year,gdpcap)], idvar='regionno', timevar='year',direction='wide')[,-"regionno",with=FALSE]))
data <- list(treated = as.matrix(basque[,1]),
donors = as.matrix(basque[,-1]),
treatment = 16)
result <- masc(data=data, tune_pars_list=list(m=1:10,
min_preperiods=8,
set_f=NA))
#Treatment effects of terrorism on GDP per capita
#in thousands of 1986 US dollars, over 1970-1975:
#(first 6 years of treatment)
print(result$pred.error[1:6,])
library(Synth)
library(data.table) #for convenience
data(basque)
basque<-as.data.table(basque)
basque <- basque[regionno!=1,]
basque[,regionname:= gsub(" (.*)","",regionname)]
basque <- cbind(basque[regionno==17,gdpcap],t(reshape(basque[regionno!=17,.(regionno,year,gdpcap)], idvar='regionno', timevar='year',direction='wide')[,-"regionno",with=FALSE]))
data <- list(treated = as.matrix(basque[,1]),
donors = as.matrix(basque[,-1]),
treatment = 16)
result <- masc(data=data, tune_pars_list=list(m=1:10,
min_preperiods=8,
set_f=NA))
#Treatment effects of terrorism on GDP per capita
#in thousands of 1986 US dollars, over 1970-1975:
#(first 6 years of treatment)
print(result$pred.error[1:6,])
library(masc)
remove.packages("masc", lib="~/R/win-library/3.6")
devtools::install_github("maxkllgg/masc")
?amsc
?masc
library(masc)
?masc
?masc
detach("package:masc", unload = TRUE)
remove.packages("masc", lib="~/R/win-library/3.6")
devtools::install_github("maxkllgg/masc")
library(amsc)
library(masc)
?masc
remove.packages("masc", lib="~/R/win-library/3.6")
devtools::install_github("maxkllgg/masc")
library(masc)
?masc
?masc''
?masc'
?masc
''
?masc
help(masc)
